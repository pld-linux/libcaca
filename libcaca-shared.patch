--- libcaca-0.6/src/Makefile.am.orig	2004-01-04 00:21:39.000000000 +0100
+++ libcaca-0.6/src/Makefile.am	2004-01-04 21:08:38.888961680 +0100
@@ -4,8 +4,8 @@
 
 include_HEADERS = caca.h
 
-lib_LIBRARIES = libcaca.a $(libcaca_pic_a)
-libcaca_a_SOURCES = \
+lib_LTLIBRARIES = libcaca.la
+libcaca_la_SOURCES = \
 	caca.c \
 	caca.h \
 	caca_internals.h \
@@ -20,9 +20,4 @@
 	bitmap.c \
 	$(NULL)
 
-if NEED_PIC
-libcaca_pic_a = libcaca_pic.a
-endif
-libcaca_pic_a_SOURCES = $(libcaca_a_SOURCES)
-libcaca_pic_a_CPPFLAGS = -fPIC -DPIC
-
+libcaca_la_LIBADD = $(CACA_LIBS)
--- libcaca-0.6/examples/Makefile.am.orig	2004-01-04 00:21:40.000000000 +0100
+++ libcaca-0.6/examples/Makefile.am	2004-01-04 21:09:04.635047680 +0100
@@ -9,19 +9,19 @@
 bin_PROGRAMS = cacademo cacafire caca-spritedit cacaview
 
 cacademo_SOURCES = demo.c
-cacademo_LDADD = ../src/libcaca.a @CACA_LIBS@ -lm
+cacademo_LDADD = ../src/libcaca.la @CACA_LIBS@ -lm
 cacademo_CPPFLAGS = -I$(top_srcdir)/src -DDATADIR=\"$(pkgdatadir)\"
 
 cacafire_SOURCES = aafire.c
-cacafire_LDADD = ../src/libcaca.a @CACA_LIBS@
+cacafire_LDADD = ../src/libcaca.la @CACA_LIBS@
 cacafire_CPPFLAGS = -I$(top_srcdir)/src -DLIBCACA=1
 
 caca_spritedit_SOURCES = spritedit.c
-caca_spritedit_LDADD = ../src/libcaca.a @CACA_LIBS@
+caca_spritedit_LDADD = ../src/libcaca.la @CACA_LIBS@
 caca_spritedit_CPPFLAGS = -I$(top_srcdir)/src
 
 cacaview_SOURCES = cacaview.c
-cacaview_LDADD = ../src/libcaca.a @CACA_LIBS@
+cacaview_LDADD = ../src/libcaca.la @CACA_LIBS@
 cacaview_CPPFLAGS = -I$(top_srcdir)/src -DX_DISPLAY_MISSING=1
 if USE_IMLIB2
 cacaview_CFLAGS = `imlib2-config --cflags`
--- libcaca-0.6/test/Makefile.am.orig	2004-01-04 00:21:38.000000000 +0100
+++ libcaca-0.6/test/Makefile.am	2004-01-04 21:09:19.210831824 +0100
@@ -5,14 +5,14 @@
 noinst_PROGRAMS = dithering hsv optipal
 
 dithering_SOURCES = dithering.c
-dithering_LDADD = ../src/libcaca.a @CACA_LIBS@
+dithering_LDADD = ../src/libcaca.la @CACA_LIBS@
 dithering_CPPFLAGS = -I$(top_srcdir)/src
 
 hsv_SOURCES = hsv.c
-hsv_LDADD = ../src/libcaca.a @CACA_LIBS@
+hsv_LDADD = ../src/libcaca.la @CACA_LIBS@
 hsv_CPPFLAGS = -I$(top_srcdir)/src
 
 optipal_SOURCES = optipal.c
-optipal_LDADD = ../src/libcaca.a @CACA_LIBS@
+optipal_LDADD = ../src/libcaca.la @CACA_LIBS@
 optipal_CPPFLAGS = -I$(top_srcdir)/src
 
--- libcaca-0.6/configure.ac.orig	2004-01-04 00:21:39.000000000 +0100
+++ libcaca-0.6/configure.ac	2004-01-04 21:07:06.773965288 +0100
@@ -11,7 +11,7 @@
 
 AM_PROG_CC_C_O
 AC_PROG_CPP
-AC_PROG_RANLIB
+AC_PROG_LIBTOOL
 
 dnl AC_PROG_EGREP only exists in autoconf 2.54+, so we use AC_EGREP_CPP right
 dnl now otherwise it might be set in an obscure if statement.
@@ -104,21 +104,10 @@
 AC_SUBST(CACA_LIBS)
 
 # Optimizations
-CFLAGS="${CFLAGS} -g -O2 -fno-strength-reduce -fomit-frame-pointer"
+CFLAGS="${CFLAGS} -fno-strength-reduce"
 # Code qui fait des warnings == code de porc == deux baffes dans ta gueule
 CFLAGS="${CFLAGS} -Wall -Wpointer-arith -Wcast-align -Wcast-qual -Wstrict-prototypes -Wshadow -Waggregate-return -Wmissing-prototypes -Wnested-externs -Wsign-compare"
 
-# Build the PIC library?
-case "${target_os}" in
-  *mingw32* | *cygwin* | *djgpp*)
-    NEED_PIC=false
-    ;;
-  *)
-    NEED_PIC=:
-    ;;
-esac
-AM_CONDITIONAL(NEED_PIC, ${NEED_PIC})
-
 # Use Imlib2?
 ac_cv_my_have_imlib2="no"
 AC_ARG_ENABLE(imlib2,
